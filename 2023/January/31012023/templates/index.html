<!DOCTYPE html>
<html>
  <head>
    <title>Geolocation Example</title>
  </head>
  <body>
    <script>
      function showPosition(position) {
        var latitude = position.coords.latitude;
        var longitude = position.coords.longitude;
        var xhr = new XMLHttpRequest();
        xhr.open("POST", "http://127.0.0.1:5000/location", true);
        xhr.setRequestHeader("Content-Type", "application/json");
        xhr.send(JSON.stringify({latitude: latitude, longitude: longitude}));
      }
      if (navigator.geolocation) {
        navigator.geolocation.getCurrentPosition(showPosition);
      } else {
        console.log("Geolocation is not supported by this browser.");
      }
    </script>
  </body>
</html>
